{% extends 'base.html' %}


{% block extra_css %}

{% endblock %}





{% block body %}

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <div class="card card-outline-info">
                <div class="card-header">
                    <h4 class="m-b-0 text-white">业务到期提示</h4>
                </div>
                <div class="card-body">
                    <form id="expire_filter" action="{% url 'viewExpirePrompt' %}" target="_blank" method="post">
                        <div class="form-body">
                            <h4 class="box-title">已办结：</h4>
                            <div class="row">
                                <div class="col-md-2"></div>
                                <div class="col-md-9">
                                    <div class="demo-radio-button">
                                        <input name="is_finished" type="radio" id="is_finished_yes" value="1" class="radio-col-light-blue" onchange="turnFinishedBetween(this)">
                                        <label for="is_finished_yes">是</label>
                                        <input name="is_finished" type="radio" id="is_finished_no" value="0" class="radio-col-light-blue" onchange="turnFinishedBetween(this)" checked>
                                        <label for="is_finished_no">否</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="finished_between" class="row p-t-10" style="display: none;">
                            <div class="col-md-2"></div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label class="control-label">办结日自：</label>
                                    <input type="date" class="form-control" placeholder="yyyy/mm/dd" name="finish_after">
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label class="control-label">办结日至：</label>
                                    <input type="date" class="form-control" placeholder="yyyy/mm/dd" name="finish_before">
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="form-body">
                            <h4 class="box-title">其他选项：</h4>
                            <div class="row p-t-10">
                                <div class="col-md-2"></div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">有扣罚</label>
                                        <div class="switch">
                                            <label><input type="checkbox" name="has_punishment" value="1" checked><span class="lever switch-col-light-blue"></span></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">无扣罚</label>
                                        <div class="switch">
                                            <label><input type="checkbox" name="has_punishment" value="0" checked><span class="lever switch-col-light-blue"></span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row p-t-10">
                                <div class="col-md-2"></div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">到期日自：</label>
                                        <input type="date" class="form-control" placeholder="yyyy/mm/dd" name="expire_after">
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">到期日至：</label>
                                        <input type="date" class="form-control" placeholder="yyyy/mm/dd" name="expire_before">
                                    </div>
                                </div>
                            </div>
                            <hr>
                        </div>
                        <div class="row p-t-10">
                            <div class="col-md-10"></div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <button type="button" class="btn btn-success" onclick="showExpirePromptTable()"><i class="fa fa-check"></i>确认</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}





{% block extra_js %}
    <script type="text/javascript" src="/static/myjs/formOperation.js"></script>
    <script type="text/javascript">
        function turnFinishedBetween(elem){
            if(elem.id === 'is_finished_yes')
                document.getElementById('finished_between').style.display = '';
            else if(elem.id === 'is_finished_no')
                document.getElementById('finished_between').style.display = 'none';
        }

        function showExpirePromptTable(){
            let newWindow = window.open('{% url "viewExpirePromptTable" %}');
                newWindow.FILTER = getKvpsOfForm("expire_filter");
        }

    </script>
{% endblock %}